# 테스트는 []다

# 💡 테스트는 `문서`다

- `프로덕션 기능을 설명`하는 테스트 코드 문서
- **다양한 테스트 케이스**를 통해 프로덕션 코드를 **이해하는 시각과 관점을 보완**
- 어느 한 사람이 과거에 경험했던 `고민의 결과물`을 문서화 시켜 **팀 차원으로 승격시켜서, 모두의 자산으로 공유할 수 있다.**

> **우리는 항상 팀 으로 일한다! 명심하자!**

---

# 💡 DisplayName을 섬세하게

```java
//	@DisplayName("음료 1개 추가 테스트")
@DisplayName("음료 1개 추가하면 주문 목록에 담긴다.")
```

>  **명시의 나열보다 `문장`으로**

- ~~A 이면 B 이다.~~ (X) 
- A 이면 B 가 아니고 C 이다. (O)
- `xxx 테스트` (X) -> 테스트 라는 단어를 쓰지 말자.

```java
//	@DisplayName("음료를 1개 추가할 수 있다.")
@DisplayName("음료를 1개 추가하면 주문 목록에 담긴다.")
```

> **테스트 행위에 대한 `결과`까지 기술하기**

```java
//	@DisplayName("특정 시간 이전에 주문을 생성하면 실패한다.")
@DisplayName("영업 시작 시간 이전에는 주문을 생성할 수 없다.")
```

> **`도메인 용어`를 사용하여 한층 추상화된 내용을 담기**
- **도메인 용어를 사용하면 `팀원 전체가 공유하는 그런 개념`들을 사용해서 표현할 수 있다.**
- 메서드 자체의 관점보다 도메인 `정책` 관점으로

> **테스트 현상을 중점으로 기술하지 말 것**
- **EX)** `"실패한다"`는 것은 테스트의 내용과는 무관하다. **테스트하고자 하는 내용 자체와는 사실 관계가 없다.**
- 성공한다, 실패한다 라는 단어를 피하고 **`도메인 용어`를 사용해서 좀 더 명확하게 표현하려는 노력을 하자.**

---

# 💡 BDD 스타일로 테스트 코드 작성하기

> `BDD` : `Behavior Driven Development`

- **TDD 에서 파생된 개발 방법**
- 함수 단위의 테스트에 집중하기보다, 시나리오에 기반한 `테스트케이스(TC)` 자체에 집중하여 테스트한다.
- 개발자가 아닌 사람이 봐도 이해할 수 있을 정도의 추상화 수준(레벨)을 권장

## ⚡️ Given-When-Then

- **Given**: `시작 조건(객체, 값, 상태 등)`을 설정
- **When**: `행위`를 수행
- **Then**: `결과`를 검증

어떤 환경에서(Given)    \
어떤 행동을 했을 때(When)    \
어떤 상태 변화가 일어난다(Then)

- @DisplayName 에 명확하게 작성할 수 있다.

---

# 💡 키워드 정리

<img width="500" alt="Image" src="https://github.com/user-attachments/assets/a953bbe5-6cb4-40e3-a52d-8810ee2b0a5d"/>

> 언어가 사고를 제한한다.
- 이렇게 섬세하게 테스트 코드를 작성하고 관리하는 것이 자금은 귀찮고 리소스를 많이 잡아먹는 일일 수 있지만, 
- 우리가 명확하게 표현하지 못한 테스트 자체가 오히려 나중에 장애가 될 수 있다.
- 그만큼 문서로서의 테스트의 역할이 되게 중요하다.
