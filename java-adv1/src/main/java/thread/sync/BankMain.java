package thread.sync;import static util.MyLogger.log;import static util.ThreadUtils.sleep;public class BankMain {    public static void main(String[] args) throws InterruptedException {//        BankAccount account = new BankAccountV1(1000);//        BankAccount account = new BankAccountV2(1000);//        BankAccount account = new BankAccountV3(1000);//        BankAccount account = new BankAccountV4(1000);//        BankAccount account = new BankAccountV5(1000);        BankAccount account = new BankAccountV6(1000);        Thread t1 = new Thread(new WithdrawTask(account, 800), "t1");        Thread t2 = new Thread(new WithdrawTask(account, 800), "t2");        t1.start();        t2.start();//        log(Thread.currentThread().getState());//        log("t1 state: " + t1.getState());//        log("t2 state: " + t2.getState());        sleep(500);//        log(Thread.currentThread().getState());        log("t1 state: " + t1.getState());        log("t2 state: " + t2.getState());        t1.join();        t2.join();        log("최종 잔액: " + account.getBalance());    }}/*00:58:36.526 [       t2] 거래 시작: BankAccountV100:58:36.526 [       t1] 거래 시작: BankAccountV100:58:36.531 [       t2] [검증 시작] 출금액: 800, 잔액: 100000:58:36.531 [       t1] [검증 시작] 출금액: 800, 잔액: 100000:58:36.531 [       t2] [검증 완료] 출금액: 800, 잔액: 100000:58:36.531 [       t1] [검증 완료] 출금액: 800, 잔액: 100000:58:37.020 [     main] t1 state: TIMED_WAITING00:58:37.020 [     main] t2 state: TIMED_WAITING00:58:37.537 [       t2] [출금 완료] 출금액: 800, 변경 잔액: 20000:58:37.537 [       t1] [출금 완료] 출금액: 800, 변경 잔액: 20000:58:37.538 [       t2] 거래 종료00:58:37.538 [       t1] 거래 종료00:58:37.543 [     main] 최종 잔액: 200*/